# Dosya yollarını belirleyin
$dosyaA = "a.txt"  # A dosyasının yolu
$dosyaB = "b.txt"  # B dosyasının yolu

# Dosyaların varlığını kontrol et
if (-not (Test-Path $dosyaA)) {
    Write-Error "A dosyası bulunamadı: $dosyaA"
    exit 1
}

if (-not (Test-Path $dosyaB)) {
    Write-Error "B dosyası bulunamadı: $dosyaB"
    exit 1
}

# Dosyaları oku
$isimlerA = Get-Content $dosyaA | Where-Object { $_.Trim() -ne "" }
$isimlerB = Get-Content $dosyaB | Where-Object { $_.Trim() -ne "" }

# B dosyasındaki isimleri HashSet'e çevir (daha hızlı arama için)
$isimlerBSet = [System.Collections.Generic.HashSet[string]]::new([StringComparer]::OrdinalIgnoreCase)
foreach ($isim in $isimlerB) {
    $isimlerBSet.Add($isim.Trim()) | Out-Null
}

# Bulunan ve bulunmayan isimleri ayır
$bulunanlar = @()
$bulunmayanlar = @()

foreach ($isim in $isimlerA) {
    $temizIsim = $isim.Trim()
    if ($temizIsim -ne "") {
        if ($isimlerBSet.Contains($temizIsim)) {
            $bulunanlar += $temizIsim
        } else {
            $bulunmayanlar += $temizIsim
        }
    }
}

# Sonuçları dosyalara kaydet
if ($bulunanlar.Count -gt 0) {
    $bulunanlar | Out-File -FilePath "bulunan.txt" -Encoding UTF8
    Write-Host "Bulunan isimler 'bulunan.txt' dosyasına kaydedildi. Toplam: $($bulunanlar.Count)"
} else {
    Write-Host "Hiç eşleşen isim bulunamadı."
}

if ($bulunmayanlar.Count -gt 0) {
    $bulunmayanlar | Out-File -FilePath "bulunmayan.txt" -Encoding UTF8
    Write-Host "Bulunmayan isimler 'bulunmayan.txt' dosyasına kaydedildi. Toplam: $($bulunmayanlar.Count)"
} else {
    Write-Host "Tüm isimler B dosyasında mevcut."
}

# Özet bilgi
Write-Host "`nÖzet:"
Write-Host "A dosyasındaki toplam isim: $($isimlerA.Count)"
Write-Host "B dosyasında bulunan: $($bulunanlar.Count)"
Write-Host "B dosyasında bulunmayan: $($bulunmayanlar.Count)"
